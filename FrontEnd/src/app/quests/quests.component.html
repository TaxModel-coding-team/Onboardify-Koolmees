<app-header></app-header>
<h1 class="center text-white" style="padding-bottom: 40px; padding-top: 40px;">{{greeting}}!</h1>
<h2 class="center text-white" style="margin-bottom: 2%;">Quests</h2>

<div class="accordion list-group" id="accordionExample">
  <div *ngFor="let quest of quests" class="accordion-item" style="background-color: transparent; border: 0;">
    <div class="accordion-header" attr.id="heading{{quest.id}}" asGlass [borderRadius]=9>
      <button
        class="accordion-button collapsed text-white"
        type="button"
        style="background-color: transparent;"
        data-bs-toggle="collapse"
        [attr.data-bs-target]="'#collapse' + quest.id"
        aria-expanded="true"
        attr.aria-controls="collapse{{quest.id}}">
        {{quest.title}}
        <br>
        <br>
        {{quest.description}}
      </button>
    </div>

    <div attr.id="collapse{{quest.id}}" class="accordion-collapse collapse"
         attr.aria-labelledby="heading{{quest.id}}" data-bs-parent="#accordionExample" asGlass [borderRadius]=9>
      <div class="accordion-body">
        <ul *ngFor="let subquest of quest.subQuests" style="padding-left: 0px;">
          <li style="text-align: left;">
            <span class="text-white" style="max-width: 200px;">{{subquest.description}}</span>
            <button
              class="btn btn-success"
              [disabled]="subquest.completed"
              [ngClass]="{'completed': subquest.completed}"
              (click)="completeQuest(subquest.id)">
              Complete
            </button>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div><br/>
<zxing-scanner [formats]="allowedFormats" *ngIf="showModal" (scanSuccess)="handleScanResult($event)"></zxing-scanner>
<app-alert></app-alert>

<!-- <div class="list-group" style="border: none; padding-bottom: 50px;">
  <progress-bar progress="{{gainedExp}}"></progress-bar>
</div> -->



